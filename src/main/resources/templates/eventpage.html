<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:tiles="http://www.thymeleaf.org"
	  xmlns="http://www.w3.org/1999/html" xmlns:form="http://www.w3.org/1999/html">
<head>
  <title>HoosierEvents</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<link rel="stylesheet" th:href="@{css/bootstrap.min.css}">-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans|Oxygen" rel="stylesheet">
  <script src="script/eventpage.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link rel="stylesheet" th:href="@{css/eventpage.css}">
  <link rel="stylesheet" th:href="@{css/chatWindow.css}">
  <link rel="stylesheet" th:href="@{css/chat.css}">
  	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
	    <link rel="stylesheet" type="text/css" th:href="@{css/HomePageStyle.css}">

	<script src='http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js' type='text/javascript'>
	</script><br />
	<script type='text/javascript'>
        $(document).ready(function() {
            $('img#closed').click(function(){
                $('#btm_banner').hide(90);
            });
        });
	</script>
	<style type='text/css'>
		div#btm_banner {
			bottom: 0;
			position: fixed;
			width: 50%;
			opacity: 0.9;
			left: 25%;
		}
		div#btm_banner img{
			border:0;
			cursor:pointer;
		}
	</style>



  <style>
  .fa {
padding-top:10px;
  padding-right: 10px;
  padding-left:10px;
  padding-bottom:10px;
  font-size: 20px;
  width: 40px;
  text-align: center;
  text-decoration: none;
  margin: 5px 2px;
  border-radius: 50%;
}

.fa:hover {
    opacity: 0.7;
	color:white;
}

.fa-facebook {
  background: #3B5998;
  color: white;
}

.fa-twitter {
  background: #55ACEE;
  color: white;
}

.fa-google {
  background: #dd4b39;
  color: white;
}


.fa-instagram {
  background: #125688;
  color: white;
}

  #registerbutt .tooltiptext {
    visibility: hidden;
    width: 150px;
    background-color: white;
	border:0.5px solid lightgrey;
    color: grey;
    text-align: center;
    border-radius: 6px;
    padding: 5px 0;

    /* Position the tooltip */
    position: absolute;
    z-index: 1;
}
#registerbutt[disabled]:hover .tooltiptext {
    visibility: visible;
}

  body, html, .container-fluid {
     font-family: 'Oxygen', sans-serif;

	 width:100%
}
#registerbutt:disabled{
background-color:#dddddd !important;
}
</style>
</head>
<body>

<div style='height: 0px;'></div>
<div align='center' id='btm_banner' style='height: 150px; z-index: 9999;'>
	<div style='text-align: center; width: 983px'>
		<img id='closed' src='http://3.bp.blogspot.com/-FJbBxXlFzSM/UChDqaGbcMI/AAAAAAAACPA/Lc4uhFU639c
/s320/exit.png'/></div>
	<div style='clear: both;'></div>
	<p>
	<p><center>
	<!-- ADVERTISING CODE -->


	<iframe src="//cdn.bannersnack.com/banners/bu9eh4o23/embed/index.html?userId=38477934&t=1543552919" width="728" height="90" scrolling="no" frameborder="0" allowtransparency="true" allow="autoplay" allowfullscreen="true"></iframe>
	<!-- ADVERTISING CODE -->
</center></p>
	</p>
</div>





<!-- NAVIGATION BAR -->
	
<div class="container-fluid" style="background-color:;color:#AE1616;padding:10px;border-bottom:1px solid lightgrey;">
<div class="row">
	<div class="col-sm-2"><a href="/" style="text-decoration: none"><h4 style="color:#AE0D0D;background-color:white;text-align:center">HoosierEvents</h4></a></div>
<div class="col-sm-1"><button class="btn-default xyz" style="color:#AE0D0D;background-color:white;border:0px;"><h5>Explore</h5></button></div>
<div class="col-sm-5"><input type="text" class="form-control" id="myInput" placeholder="Search"></div>
<div class="col-sm-2"><button id="myBtn" style="display:none;" onclick="javascript:alert('Hello World!')"></button></div>
<div class="col-sm-1">
<form action="/">
        <button class="btn-default xyz" id="profilebutton"  style="color:#AE0D0D;background-color:white;border:0px; display: none"><h5>Profile</h5></button>
    </form>
	</div>
<div class="col-sm-1">
    <form action="/login">
        <button class="btn-default xyz" id="loginbutt" style="color:#AE0D0D;background-color:white;border:0px;display: none"><h5>Login</h5></button>
    </form>
    <form action="/logout">
        <button class="btn-default xyz" id="logoutbutt"  style="color:#AE0D0D;background-color:white;border:0px; display: none"><h5>Logout</h5></button>
    </form>
	
</div>
</div>
</div>


<div class="container-fluid" style="background-color:lightgrey;">	
<div class="container" style="width:90%;top:10%;position:relative;background-color:;-bottom:0.5px groove #F4EFFE">
<div class="row">
	<!-- IMAGE DIV -->
	<div class="col-sm-8">
		<div class="row">
		<img src="" id="eventimg" class="" style="width:100%;height:auto;">
		</div>
	</div>
<br>
	<!-- event details div -->
	<div class="col-sm-4" >
		<div class="headers">
		<div class="row" ><h2 id="event_title"></h2></div>
		<div class="row" ><h3 id="event_date" style="color:green"></h3></div>
		<div class="row" style="color:#726868"><h3 id="event_start_time"></h3></div>

		<!--<div class="row" ><h4 id="event_location" style="color:green;font-family: 'Open Sans', sans-serif;
"></h4></div>-->
		<div class="row" style="color:#3C6198"><h5>&nbsp</h5></div>
		<br><br><br>
		</div>
		<div class="row" style="bottom:10%;position:relative"><div class="col-sm-12"><button id="registerbutt" disabled class="btn-block register_button" onClick="NewPage()"><h4>Register<h4><span class="tooltiptext" ><h6>Login to Register.</h6></span></button>	
</div></div>
	</div>

</div>	
</div>
</div>
<br><br><br>

<!-- DESCRIPTION AND DETAILS DIV -->
<div class="container" style="top:20%;width:90%;position:relative">
<div class="row">
	<div class="col-sm-8">
      
		<div class="row" style="width:90%;">
					<div class="col-sm-2"></div>

			<div class="col-sm-8"><h4><b>ABOUT THIS EVENT</b></h4></div>
						<div class="col-sm-2"></div>

		 </div>
		 <br>
		<div class="row" style="width:90%;">
			<div class="col-sm-2"></div>
			<div class="col-sm-8"><p style="font-family: 'Open Sans', sans-serif;" id="event_description"> </p></div>
			<div class="col-sm-2"></div>
		</div>
    </div>
	
<div class="col-sm-4" style="">  
    
		<!--<div class="row" >
			<div class="col-sm-12"><iframe id="myIframe" style="border:1px solid lightgrey;width:100%;position:relative;left:0%;"></iframe></div>
		</div>-->
		
	
			<div class="row" style="text-align:left;">
			<div class="col-sm-12"><h4><b>&nbsp&nbsp&nbspLOCATION</b></h4></div>
		</div>
		<div class="row" style="text-align:left;">
			<div class="col-sm-12"><p style="font-family: 'Open Sans', sans-serif;" id="event_location">&nbsp&nbsp&nbsp</div>
		</div><br>
		<div class="row" style="text-align:left;">
			<div class="col-sm-12"><h4><b>&nbsp&nbsp&nbspCONTACT INFO:</b></h4></div>
		</div>
		<div class="row" style="text-align:left;">
			<div class="col-sm-12"><p id="created_by" style="font-family: 'Open Sans', sans-serif;"></p></div>
		</div>
		
		<div class="row" style="text-align:left;">
			<div class="col-sm-12"><p style="font-family: 'Open Sans', sans-serif;" id="user_email"></p></div>
		</div>
		<div class="row" style="text-align:left;">
	
			<div class="col-sm-12"><p style="font-family: 'Open Sans', sans-serif;" id="user_contact"></p></div>
		</div><br>
					<div class="row">
					<div class="col-sm-3"></div>
					<div class="col-sm-6" style="text-align:center">
					<button id="chatButton" class="btn-block chat-button">Chat </button></div>
										<div class="col-sm-3"></div>
					</div>

		<br>
		 <div class="row">
    <div class="col-sm-12">
    <a id="twitter_handle" class="twitter-timeline" min-width:350px; data-height="350">Twitter Handle</a> 
    </div>
    </div> 
	</div>
</div>
</div><br><br><br>
<div class="container" style="top:15%;width:90%;position:relative;">
<div class="row">
			<div class="col-sm-12"><iframe id="myIframe" src="./map" style="min-width:400px;min-height:300px;border:1px solid lightgrey;width:100%;position:relative;left:0%;"></iframe></div>
		</div>
<div class="row" style="text-align:center;">
<div class="col-sm-12" id="eventlocation"></div>
</div>		
</div>
<br><br><br><br><br>


 <div id="chat-page" class="hidden" style="min-width:350px;max-width:350px;min-height:auto;">
	<div class="chat-container">
		<div class="chat-header">
			<table><tr><td align="left" id="organiser_chatname"><h5>Help Desk</h5></td>
						<td align="right" style="padding-left:200px;"><button class="close">X</button></td></tr></table>
		</div>
		<div class="connecting">Connecting...</div>
		<ul id="messageArea">

		</ul>
		<form id="messageForm" name="messageForm">
			<div class="form-group">
				<div class="input-group clearfix">
					<input type="text" id="message" placeholder="Type a message..."
						autocomplete="off" class="form-control" />
					<button type="submit" class="primary" style="background-color:green;border:1px solid green;color:white;border-radius:2px;">Send</button>
				</div>
			</div>
		</form>
	</div>
</div>

<div class="container-fluid fancy" style="border-top:1px solid lightgrey;text-align:center;top:20%;height:auto;position:relative;background-color: !important;color:">
<br><div class="row" style="background-color:;">
	<!--<div class="col-sm-4">
	<div class="row" style="background-color:lightgrey"><div class="col-sm-12"><h4 style="color:#AE0D0D">Hoosier Events</h4></div></div>
		<div class="row" style="text-align:center;"><div class="col-sm-12">Connect with other enthusiasts and do what you enjoy. Signup to explore and host events!</div></div>
	<br>
	</div>-->
	<div class="col-sm-6 links" style="color:#AE0D0D;"><div class="row"  style="font-family: 'Oxygen', sans-serif;
background-color:"><div class="col-sm-12"><h4>About HoosierEvents</h4></div></div>
		
		<div class="row"><div class="col-sm-12"><h5><a href="" style="font-family: 'Open Sans', sans-serif;
color:#3C48AE">Sitemap</a></h5></div></div>
		<div class="row"><div class="col-sm-12"><h5><a href="" style="font-family: 'Open Sans', sans-serif;
color:#3C48AE">About us</a></h5></div></div>
		<div class="row"><div class="col-sm-12"><h5><a href="" style="font-family: 'Open Sans', sans-serif;
color:#3C48AE">FAQs</a></h5></div></div>
		<br>
	</div>
	
	<div class="col-sm-6"><div class="row"  style="background-color:"><div class="col-sm-12" style="font-family: 'Oxygen', sans-serif;
text-align:center"><h4 style="color:#AE0D0D;">Connect with Us</h4></div></div>
				           <!--  <i class="fa fa-home mr-3"></i>&nbsp Bloomington, IN 47408, US
							<br>
				            <i class="fa fa-envelope mr-3"></i>&nbsp info@example.com
							<br>
							<i class="fa fa-phone mr-3"></i>&nbsp + 01 234 567 88 -->

		<div class="row">
		<div class="col-sm-4"></div>

		<div class="col-sm-1" style="padding-right:25px;" ><a href="https://www.facebook.com/HoosierEvents" class="fa fa-facebook"></a></div>
<div class="col-sm-1" style="padding-right:25px;"><a href="https://twitter.com/hoosierevents" class="fa fa-twitter"></a></div>
<div class="col-sm-1" style="padding-right:25px;" ><a href="#" class="fa fa-google"></a></div>
<div class="col-sm-1" style="padding-right:25px;" ><a href="https://www.instagram.com/eventshoosier/" class="fa fa-instagram"></a></div>
<div class="col-sm-4"></div>
		</div>
	</div>
</div>
</div>
<!--
<div class="container-fluid fancy" style="text-align:center;top:20%;height:auto;position:relative;background-color:lightgrey !important;color:">
<div class="row" style="background-color:;">
	<div class="col-sm-4">
	<div class="row"><div class="col-sm-12"><h4 style="color:#AE0D0D;">Hoosier Events</h4></div></div>
		<div class="row" style="text-align:center;"><div class="col-sm-12">Connect with other enthusiasts and do what you enjoy. Signup to explore and host events!</div></div>
	<br>
	</div>
	<div class="col-sm-4 links" style="color:#AE0D0D;"><div class="row"><div class="col-sm-12"><h4>Useful Links</h4></div></div>
		
		<div class="row"><div class="col-sm-12"><a href="" style="color:#48A2BD">Your Account</a></div></div>
		<div class="row"><div class="col-sm-12"><a href="" style="color:#48A2BD">About us</a></div></div>
		<div class="row"><div class="col-sm-12"><a href="" style="color:#48A2BD">Help</a></div></div>
		<br>
	</div>
	
	<div class="col-sm-4"><div class="row"><div class="col-sm-12"><h4 style="color:#AE0D0D;">Contact Us</h4></div></div>
				            <i class="fa fa-home mr-3"></i>&nbsp Bloomington, IN 47408, US
							<br>
				            <i class="fa fa-envelope mr-3"></i>&nbsp info@example.com
							<br>
							<i class="fa fa-phone mr-3"></i>&nbsp + 01 234 567 88


	</div>
</div>
</div>-->




<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<script>
    $(document).ready(function () {
        $.ajax({
                type: "GET",
                url: '/getuser',
                success: function (data) {
                    console.log(data);
                    if(data.userType===1 ){

                        document.getElementById('registerbutt').disabled=false;
                    }



                },
                error: function (e) {
                    console.log(e);
                }

            }
        )
    })

</script>

<script>
var loc="Bloomington";

/*passing parameter to iframe*/
/*document.getElementById('myIframe').src = "/map?seed=" + loc;*/
var x;
var event_id=document.URL.substr(document.URL.indexOf('=')+1);
$(document).ready(function(){
	$.ajax({
	type:'POST',
	dataType:'json',
	data: {id:event_id},
	url:"/getEvent",
	  success: function(data) {
			console.log('success',data);
			document.getElementById("eventimg").src='/getImage?img='+ data.id+'.jpg';
			document.getElementById("event_title").innerHTML=data.eventTitle;
			//alert(data.startDate);
			var gg="BillGates"
			document.getElementById("twitter_handle").href="https://twitter.com/"+data.twitterHandle+"?ref_src=twsrc%5Etfw";
			for (x=0;x<=9;x++)
			{
						//document.getElementById("event_date").innerHTML+=data.startDate[x];
						
						
			}
			var day=String(data.startDate[8])+String(data.startDate[9]);
			var month=String(data.startDate[5])+String(data.startDate[6]);
			//document.getElementById("event_date").innerHTML+="<p style='color:black;'>Date:";
			if(month=="01")
			{	document.getElementById("event_date").innerHTML+="Date: Jan";	}
			if(month=="02")
			{	document.getElementById("event_date").innerHTML+="Date: Feb";	}
			if(month=="03")
			{	document.getElementById("event_date").innerHTML+="Date: Mar";	}
			if(month=="04")
			{	document.getElementById("event_date").innerHTML+="Date: Apr";	}
			if(month=="05")
			{	document.getElementById("event_date").innerHTML+="Date: May";	}
			if(month=="06")
			{	document.getElementById("event_date").innerHTML+="Date: Jun";	}
			if(month=="07")
			{	document.getElementById("event_date").innerHTML+="Date: Jul";	}
			if(month=="08")
			{	document.getElementById("event_date").innerHTML+="Date: Aug";	}
			if(month=="09")
			{	document.getElementById("event_date").innerHTML+="Date: Sep";	}
			if(month=="10")
			{	document.getElementById("event_date").innerHTML+="Date: Oct";	}
			if(month=="11")
			{	document.getElementById("event_date").innerHTML+="Date: Nov";	}
			if(month=="12")
			{	document.getElementById("event_date").innerHTML+="Date: Dec";	}
			
			document.getElementById("event_date").innerHTML+="&nbsp"+day;	
			document.getElementById("event_start_time").innerHTML+="Time:&nbsp";
			
			for(x=11;x<=15;x++)
			{
			document.getElementById("event_start_time").innerHTML+=data.startDate[x];
			}
			document.getElementById("event_location").innerHTML+=data.location;
			document.getElementById("event_description").innerHTML=data.description;
			document.getElementById("created_by").innerHTML="&nbsp&nbsp&nbsp"+data.createdBy.name;
			document.getElementById('myIframe').src = "/map?seed=" + data.location;
			document.getElementById("eventlocation").innerHTML="<h5>"+data.location+"</h5>";
									document.getElementById("user_email").innerHTML="&nbsp&nbsp&nbsp"+data.createdBy.email;
						document.getElementById("user_contact").innerHTML="&nbsp&nbsp&nbsp"+data.createdBy.contact;
			
	   },
	   //error:function(exception){alert('Exeption:'+exception);}
	}); 
});	

</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBRL6D4jfWOtmDd3ge1pRtkEx6OtrqdU8c&callback=myMap"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<script src="/script/chat.handler.js"></script>



<script>

    $(document).ready(function () {
        $.ajax({
                type: "GET",
                url: '/getauth',
                success: function (data) {
                    console.log(data);
                    if(data==="anonymousUser"){
                        document.getElementById('logoutbutt').style.display="none";
                        document.getElementById('loginbutt').style.display="block";
												document.getElementById('profilebutton').style.display="none";


                    }
                    else{
                        document.getElementById("loginbutt").style.display="none";
                        document.getElementById("logoutbutt").style.display="block";
												document.getElementById('profilebutton').style.display="block";


                    }


                },
                error: function (e) {
                    console.log(e);
                }

            }
        )
    })

</script>

</body>
</html>
