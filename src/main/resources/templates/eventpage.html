<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:tiles="http://www.thymeleaf.org"
	  xmlns="http://www.w3.org/1999/html" xmlns:form="http://www.w3.org/1999/html">
<head>
  <title>HoosierEvents</title>
  <meta charset="utf-8">
  <meta http-equiv="Pragma" content="no-cache" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<link rel="stylesheet" th:href="@{css/bootstrap.min.css}">-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open+Sans|Oxygen" rel="stylesheet">
  <script src="script/eventpage.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link rel="stylesheet" th:href="@{css/eventpage.css}">
  <link rel="stylesheet" th:href="@{css/chatWindow.css}">
  <link rel="stylesheet" th:href="@{css/chat.css}">
  	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
	    <link rel="stylesheet" type="text/css" th:href="@{css/HomePageStyle.css}">

	<script src='http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js' type='text/javascript'>
	</script><br />
	<script type='text/javascript'>
        $(document).ready(function() {
            $('img#closed').click(function(){
                $('#btm_banner').hide(90);
            });
        });
	</script>
	<style type='text/css'>
		div#btm_banner {
			bottom: 0;
			position: fixed;
			width: 50%;
			opacity: 0.9;
			left: 25%;
		}
		div#btm_banner img{
			border:0;
			cursor:pointer;
		}
	</style>



  <style>
	html
	{
	  scroll-behavior: smooth;

	}
      .modal {
          display: none; /* Hidden by default */
          position: fixed; /* Stay in place */
          z-index: 1; /* Sit on top */
          padding-top: 100px; /* Location of the box */
          left: 0;
          top: 0;
          width: auto; /* Full width */
          height: auto; /* Full height */
          overflow: auto; /* Enable scroll if needed */
          background-color: rgb(0,0,0); /* Fallback color */
          background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
      }

      /* Modal Content */
      .modal-content {
          background-color: #fefefe;
          margin: auto;
          padding: 20px;
          border: 1px solid #888;
          width: 80%;
      }

      /* The Close Button */
      .close {
          color: #aaaaaa;
          float: right;
          font-size: 28px;
          font-weight: bold;
      }

      .close:hover,
      .close:focus {
          color: #000;
          text-decoration: none;
          cursor: pointer;
      }

      .fa {
padding-top:10px;
  padding-right: 10px;
  padding-left:10px;
  padding-bottom:10px;
  font-size: 20px;
  width: 40px;
  text-align: center;
  text-decoration: none;
  margin: 5px 2px;
  border-radius: 50%;
}

.fa:hover {
    opacity: 0.7;
	color:white;
}

.fa-facebook {
  background: #3B5998;
  color: white;
}

.fa-twitter {
  background: #55ACEE;
  color: white;
}

.fa-google {
  background: #dd4b39;
  color: white;
}


.fa-instagram {
  background: #125688;
  color: white;
}

  #registerbutt .tooltiptext {
    visibility: hidden;
    width: 150px;
    background-color: white;
	border:0.5px solid lightgrey;
    color: grey;
    text-align: center;
    border-radius: 6px;
    padding: 5px 0;

    /* Position the tooltip */
    position: absolute;
    z-index: 1;
}
#registerbutt[disabled]:hover .tooltiptext {
    visibility: visible;
}

  body, html, .container-fluid {
     font-family: 'Oxygen', sans-serif;

	 width:100%
}
#registerbutt:disabled{
background-color:#dddddd !important;
}
</style>
</head>
<body>

<!--modal-->
<div id="eventReportModal" class="modal container">

	<!-- Modal content -->
	<div class="modal-content" style="width:40%;" >
		<span class="close">&times;</span>
		<div class="row">
			<div class="col-sm-12" style="text-align:left;     font-family: 'Oxygen', sans-serif;
">	<h4>What's wrong with this event?</h4></div>
		</div><br />
		<div class="row">
			<div class="col-sm-12"><textarea rows="4" cols="50" style="width:100%;" placeholder="Please write here" id="reporttext"> </textarea></div>

		</div><br>
        <div class="row">
			<div class="col-sm-8"></div>
           <div class="col-sm-4"> <button class="btn-block" style="background-color:lightgrey;color:black;border:1px solid lightgrey;border-radius:4px" onclick="reportEvent()"><h5>Report Event</h5></button></div>
        </div>
        <div class="row">
            <div id="reported" style="color:red;display:none;"><h6>You have reported this event to Administrator!</h6></div>

        </div>

	</div>

</div>


<!--modal-->





<div style='height: 0px;'></div>
<div align='center' id='btm_banner' style='height: 150px; z-index: 9999;'>
	<div style='text-align: center; width: 983px'>
		<img id='closed' src='http://3.bp.blogspot.com/-FJbBxXlFzSM/UChDqaGbcMI/AAAAAAAACPA/Lc4uhFU639c
/s320/exit.png'/></div>
	<div style='clear: both;'></div>
	<p>
	<p><center>
	<!-- ADVERTISING CODE -->


	<iframe src="//cdn.bannersnack.com/banners/bu9eh4o23/embed/index.html?userId=38477934&t=1543552919" width="728" height="90" scrolling="no" frameborder="0" allowtransparency="true" allow="autoplay" allowfullscreen="true"></iframe>
	<!-- ADVERTISING CODE -->
</center></p>
	</p>
</div>





<!-- NAVIGATION BAR -->
	
<div class="container-fluid" style="background-color:;color:#AE1616;padding:10px;border-bottom:1px solid lightgrey;">
<div class="row">
	<div class="col-sm-2"><a href="/" style="text-decoration: none"><h4 style="color:#AE0D0D;background-color:white;text-align:center">HoosierEvents</h4></a></div>
<div class="col-sm-1"><button class="btn-default xyz" style="color:#AE0D0D;background-color:white;border:0px;"><h5>Explore</h5></button></div>
<div class="col-sm-5"><input type="text" class="form-control" id="myInput" placeholder="Search"></div>
<div class="col-sm-2"><button id="myBtn" style="display:none;" onclick="javascript:alert('Hello World!')"></button></div>
<div class="col-sm-1">
<form action="/">
        <button class="btn-default xyz" id="profilebutton"  style="color:#AE0D0D;background-color:white;border:0px; display: none"><h5>Profile</h5></button>
    </form>
	</div>
<div class="col-sm-1">
    <form action="/login">
        <button class="btn-default xyz" id="loginbutt" style="color:#AE0D0D;background-color:white;border:0px;display: none"><h5>Login</h5></button>
    </form>
    <form action="/logout">
        <button class="btn-default xyz" id="logoutbutt"  style="color:#AE0D0D;background-color:white;border:0px; display: none"><h5>Logout</h5></button>
    </form>
	
</div>
</div>
</div>


<div class="container-fluid" style="background-color:#F3F2F2;">	
<div class="container" style="width:90%;top:10%;position:relative;background-color:;-bottom:0.5px groove #F4EFFE">
<div class="row">
	<!-- IMAGE DIV -->
	<div class="col-sm-8">
		<div class="row">
		<img src="" id="eventimg" class="" style="width:100%;height:auto;">
		</div>
	</div>
<br>

	<!-- event details div -->
	<div class="col-sm-4" >
		<div class="headers">
		<div class="row" ><h2 id="event_title"></h2></div>
		<div class="row" ><h3 id="event_date" style="color:green"></h3></div>
		<div class="row" style="color:#726868"><h3 id="event_start_time"></h3></div>
		<div class="row" id="hiddenid" style="display:none;"></div>
		<!--<div class="row" ><h4 id="event_location" style="color:green;font-family: 'Open Sans', sans-serif;
"></h4></div>-->
		<div class="row" style="color:#3C6198"><h5>&nbsp</h5></div>
		<br><br><br>
		</div>
		<div class="row" style="bottom:10%;position:relative">
			<div class="col-sm-12">
				<button id="registerbutt" disabled class="btn-block register_button">
					<h4>Register</h4>
					<span id="disabledtext" class="tooltiptext" >
						<h6>Login to Register.</h6>
					</span>
				</button>
				<!-- The Modal -->
					<div id="myModal" class="modal">
				<!-- Modal content -->
				  <div class="modal-content" style="width:35%;">
				    <span id="span1" class="close">&times;</span>
				    	<ul>
				    		<li>Bronze tickets: 
					    		<!-- Change the `data-field` of buttons and `name` of input field's for multiple plus minus buttons-->
								<div class="row">
								  <!--<div class="col-sm-4 input-group-button">
								    <button type="button" class="button hollow circle" style="width:15px;height:15px;" data-quantity="minus1" data-field="quantity">
								      <i class="fa fa-minus" aria-hidden="true"></i>
								    </button>
								  </div>-->
								  <div class="col-sm-4"><input class="form-control" min=0 max=10 type="number" name="quantity" id="quantity" value="0" onchange="disableinputs();"></div>
								  <!--<div class="col-sm-4 input-group-button">
								    <button type="button" class="button hollow circle" data-quantity="plus1" data-field="quantity">
								      <i class="fa fa-plus" aria-hidden="true"></i>
								    </button>
								  </div>-->
								
								</div>
				    		</li><br>
				    		<li>Silver tickets: 
				    		<!-- Change the `data-field` of buttons and `name` of input field's for multiple plus minus buttons-->
								<div class="row">
								<!--<div class="input-group plus-minus-input">
								  <div class="input-group-button">
								    <button type="button" class="button hollow circle" data-quantity="minus2" data-field="quantity2">
								      <i class="fa fa-minus" aria-hidden="true"></i>
								    </button>
								  </div>-->
								  <div class="col-sm-4"><input class="form-control" min=0 max=10 type="number" name="quantity2" id="quantity2" value="0" onchange="disableinputs2();"></div>
								  <!--<div class="input-group-button">
								    <button type="button" class="button hollow circle" data-quantity="plus2" data-field="quantity2">
								      <i class="fa fa-plus" aria-hidden="true"></i>
								    </button>
								  </div>
								</div>-->
								</div>
				    		</li><br>
				    		<li>Gold tickets: 
				    		<!-- Change the `data-field` of buttons and `name` of input field's for multiple plus minus buttons-->
									<div class="row">	
								<!--<div class="input-group plus-minus-input">
								  <div class="input-group-button">
								    <button type="button" class="button hollow circle" data-quantity="minus3" data-field="quantity3">
								      <i class="fa fa-minus" aria-hidden="true"></i>
								    </button>
								  </div>-->
								 <div class="col-sm-4"><input class="form-control" min=0 max=10 type="number" name="quantity3" id="quantity3" value="0" onchange="disableinputs3();"></div>
								  <!--<div class="input-group-button">
								    <button type="button" class="button hollow circle" data-quantity="plus3" data-field="quantity3">
								      <i class="fa fa-plus" aria-hidden="true"></i>
								    </button>
								  </div>-->
								</div>
				    		</li>
				    	</ul><br>
				    <button class="btn-block register_button" id="myBtn3"><h5>Proceed<h5></button>
				   </div>
			    	<!-- <!-- The Modal -->
				 <div id="myModal2" class="modal">
					Modal content
					  <div id="dynamicmodal" class="modal-content" style="width:35%;">
					    <span id="span2" class="close" onClick="closeall();">&times;</span>
					    	<!--<form action="/PaymentPortal" id="name_form">
					    		<input id='event_name' name='event_name' type='hidden'>
					    		<input id='bronze' name='bronze' type='hidden'>
					    		<input id='silver' name='silver' type='hidden'>
					    		<input id='gold' name='gold' type='hidden'>
							  Attendee 1 Name:&nbsp
							  <input type="text" name="name1" value="name1"><br><br>
							  Attendee 2 Name:&nbsp
							  <input type="text" name="name2" value="name2"><br><br>
							  Attendee 3 Name:&nbsp
							  <input type="text" name="name3" value="name3"><br><br>
							  Attendee 4 Name:&nbsp
							  <input type="text" name="name4" value="name4"><br><br>
							  Attendee 5 Name:&nbsp
							  <input type="text" name="name5" value="name5"><br><br>
							  Attendee 6 Name:&nbsp
							  <input type="text" name="name6" value="name6"><br><br>
							  Attendee 7 Name:&nbsp
							  <input type="text" name="name7" value="name7"><br><br>
							  Attendee 8 Name:&nbsp
							  <input type="text" name="name8" value="name8"><br><br>
							  Attendee 9 Name:&nbsp
							  <input type="text" name="name9" value="name9"><br><br>
							  Attendee 10 Name:&nbsp
							  <input type="text" name="name10" value="name10"><br><br>
							  <button class="btn-block register_button" onClick="NewPage()"><h5>Proceed to Payment<h5></button> 
							</form>-->
			    			<!-- <button class="btn-block register_button" onClick="NewPage()"><h5>REGISTER<h5></button> -->
		  				</div>
					</div>
</div></div>
	</div>

</div>	
</div>
</div></div>
<br><br><br>

<!-- DESCRIPTION AND DETAILS DIV -->
<div class="container" style="top:20%;width:90%;position:relative">
<div class="row">
	<div class="col-sm-8">
      
		<div class="row" style="width:90%;">
					<div class="col-sm-2"></div>

			<div class="col-sm-8"><h4><b>ABOUT THIS EVENT</b></h4></div>
						<div class="col-sm-2"></div>

		 </div>
		 <br>
		<div class="row" style="width:90%;">
			<div class="col-sm-2"></div>
			<div class="col-sm-8"><p style="font-family: 'Open Sans', sans-serif;" id="event_description"> </p><br>
				 <div class="row">
                 <div class="col-sm-4">


                     <button type="button" style="color:red" class="btn-link" id="reportthisevent">Report Event</button>

                     <!-- <a href="/sign" >Sign Up!!</a>-->


                 </div>
             </div>
			</div>
			<div class="col-sm-2"></div>
		</div>
    </div>
	
<div class="col-sm-4" style="">  
    
		<!--<div class="row" >
			<div class="col-sm-12"><iframe id="myIframe" style="border:1px solid lightgrey;width:100%;position:relative;left:0%;"></iframe></div>
		</div>-->
		
	
			<div class="row" style="text-align:left;">
			<div class="col-sm-12"><h4><b>&nbsp&nbspLOCATION</b></h4></div>
		</div>
		
		<div class="row" style="text-align:left;">
			<div class="col-sm-12"><p style="font-family: 'Open Sans', sans-serif;" id="event_location">&nbsp&nbsp&nbsp</div>
		</div>
		<div class="row">
		<div class="col-sm-12"><a href="#mapdiv">&nbsp&nbsp&nbspView Map</a></div>
		</div>
		<br>
		<div class="row" style="text-align:left;">
			<div class="col-sm-12"><h4><b>&nbsp&nbspCONTACT INFO:</b></h4></div>
		</div>
		<div class="row" style="text-align:left;">
			<div class="col-sm-12"><p id="created_by" style="font-family: 'Open Sans', sans-serif;"></p></div>
		</div>
		
		<div class="row" style="text-align:left;">
			<div class="col-sm-12"><p style="font-family: 'Open Sans', sans-serif;" id="user_email"></p></div>
		</div>
		<div class="row" style="text-align:left;">
	
			<div class="col-sm-12"><p style="font-family: 'Open Sans', sans-serif;" id="user_contact"></p></div>
		</div><br>
					<div class="row">
					<div class="col-sm-3"></div>
					<div class="col-sm-6" style="text-align:center">
					<button id="chatButton" class="btn-block chat-button">Chat </button></div>
										<div class="col-sm-3"></div>
					</div>

		<br>
		 <div class="row">
    <div class="col-sm-12">
    <a id="twitter_handle" class="twitter-timeline" min-width:350px; data-height="350">Twitter Handle</a> 
    </div>
            
    </div> 

	</div>
</div>
</div><br><br><br>
<div class="container" id="mapdiv" style="top:15%;width:90%;position:relative;">
<div class="row">
			<div class="col-sm-12"><iframe id="myIframe" src="./map" style="min-width:400px;min-height:300px;border:1px solid lightgrey;width:100%;position:relative;left:0%;"></iframe></div>
		</div>
<div class="row" style="text-align:center;">
<div class="col-sm-12" id="eventlocation"></div>
</div>		
</div>
<br><br><br> 


 <div id="chat-page" class="hidden" style="min-width:350px;max-width:350px;min-height:auto;">
	<div class="chat-container">
		<div class="chat-header">
			<table><tr><td align="left" id="organiser_chatname"><h5>Help Desk</h5></td>
						<td align="right" style="padding-left:200px;"><button id="closeButton" class="close">X</button></td></tr></table>
		</div>
		<div class="connecting">Connecting...</div>
		<ul id="messageArea">

		</ul>
		<form id="messageForm" name="messageForm">
			<div class="form-group">
				<div class="input-group clearfix">
					<input type="text" id="message" placeholder="Type a message..."
						autocomplete="off" class="form-control" />
					<button type="submit" class="primary" style="background-color:green;border:1px solid green;color:white;border-radius:2px;">Send</button>
				</div>
			</div>
		</form>
	</div>
</div>


<div id="container-fluid" style="text-align:center;"><div class="row"><div class="col-sm-12"><h4>Other Events You May Like</h4></div></div></div><br>
<div class="container" style="height:50%;width:100%;overflow-y:hidden;overflow-x:hidden;">
<div class="row"> 
<div id="newdiv" class="col-sm-4">
</div>
<div id="newdiv2" class="col-sm-4">
</div>
<div id="newdiv3" class="col-sm-4">
</div>
</div><br>
</div>
<br><br><br>
<div class="container-fluid fancy" style="border-top:1px solid lightgrey;text-align:center;top:20%;height:auto;position:relative;background-color: !important;color:">
<br><div class="row" style="background-color:;">
	<!--<div class="col-sm-4">
	<div class="row" style="background-color:lightgrey"><div class="col-sm-12"><h4 style="color:#AE0D0D">Hoosier Events</h4></div></div>
		<div class="row" style="text-align:center;"><div class="col-sm-12">Connect with other enthusiasts and do what you enjoy. Signup to explore and host events!</div></div>
	<br>
	</div>-->
	<div class="col-sm-6 links" style="color:#AE0D0D;"><div class="row"  style="font-family: 'Oxygen', sans-serif;
background-color:"><div class="col-sm-12"><h4>About HoosierEvents</h4></div></div>
		
		<div class="row"><div class="col-sm-12"><h5><a href="" style="font-family: 'Open Sans', sans-serif;
color:#3C48AE">Sitemap</a></h5></div></div>
		<div class="row"><div class="col-sm-12"><h5><a href="" style="font-family: 'Open Sans', sans-serif;
color:#3C48AE">About us</a></h5></div></div>
		<div class="row"><div class="col-sm-12"><h5><a href="" style="font-family: 'Open Sans', sans-serif;
color:#3C48AE">FAQs</a></h5></div></div>
		<br>
	</div>
	
	<div class="col-sm-6"><div class="row"  style="background-color:"><div class="col-sm-12" style="font-family: 'Oxygen', sans-serif;
text-align:center"><h4 style="color:#AE0D0D;">Connect with Us</h4></div></div>
				           <!--  <i class="fa fa-home mr-3"></i>&nbsp Bloomington, IN 47408, US
							<br>
				            <i class="fa fa-envelope mr-3"></i>&nbsp info@example.com
							<br>
							<i class="fa fa-phone mr-3"></i>&nbsp + 01 234 567 88 -->

		<div class="row">
		<div class="col-sm-4"></div>

		<div class="col-sm-1" style="padding-right:25px;" ><a href="https://www.facebook.com/HoosierEvents" class="fa fa-facebook"></a></div>
<div class="col-sm-1" style="padding-right:25px;"><a href="https://twitter.com/hoosierevents" class="fa fa-twitter"></a></div>
<div class="col-sm-1" style="padding-right:25px;" ><a href="#" class="fa fa-google"></a></div>
<div class="col-sm-1" style="padding-right:25px;" ><a href="https://www.instagram.com/eventshoosier/" class="fa fa-instagram"></a></div>
<div class="col-sm-4"></div>
		</div>
	</div>
</div>
</div>
<!--
<div class="container-fluid fancy" style="text-align:center;top:20%;height:auto;position:relative;background-color:lightgrey !important;color:">
<div class="row" style="background-color:;">
	<div class="col-sm-4">
	<div class="row"><div class="col-sm-12"><h4 style="color:#AE0D0D;">Hoosier Events</h4></div></div>
		<div class="row" style="text-align:center;"><div class="col-sm-12">Connect with other enthusiasts and do what you enjoy. Signup to explore and host events!</div></div>
	<br>
	</div>
	<div class="col-sm-4 links" style="color:#AE0D0D;"><div class="row"><div class="col-sm-12"><h4>Useful Links</h4></div></div>
		
		<div class="row"><div class="col-sm-12"><a href="" style="color:#48A2BD">Your Account</a></div></div>
		<div class="row"><div class="col-sm-12"><a href="" style="color:#48A2BD">About us</a></div></div>
		<div class="row"><div class="col-sm-12"><a href="" style="color:#48A2BD">Help</a></div></div>
		<br>
	</div>
	
	<div class="col-sm-4"><div class="row"><div class="col-sm-12"><h4 style="color:#AE0D0D;">Contact Us</h4></div></div>
				            <i class="fa fa-home mr-3"></i>&nbsp Bloomington, IN 47408, US
							<br>
				            <i class="fa fa-envelope mr-3"></i>&nbsp info@example.com
							<br>
							<i class="fa fa-phone mr-3"></i>&nbsp + 01 234 567 88


	</div>
</div>
</div>-->




<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<script>

//Get the modal
var modal1 = document.getElementById('myModal');

// Get the button that opens the modal
var btn = document.getElementById("registerbutt");

// Get the <span> element that closes the modal
var span = document.getElementById("span1");

// When the user clicks the button, open the modal 
btn.onclick = function() {
    modal1.style.display = "block";
	document.getElementById("quantity").value=0;
		document.getElementById("quantity2").value=0;
			document.getElementById("quantity3").value=0;
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal1.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
 window.onclick = function(event) {
    if (event.target == modal1) {
        modal1.style.display = "none";
    }
}

//Get the modal
var modal2 = document.getElementById('myModal2');

// Get the button that opens the modal
var btn2 = document.getElementById("myBtn3");

// Get the <span> element that closes the modal
var span2 = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn2.onclick = function() {
	
	/* modal1.style.display = "none"; */ 
    modal2.style.display = "block";
	var dynamicmodal=document.getElementById("dynamicmodal");
	dynamicmodal.innerHTML="";
	//alert("first"+document.getElementById("quantity").value+"second"+document.getElementById("quantity2").value+"third"+document.getElementById("quantity3").value)
	if(document.getElementById("quantity").disabled==false)
	{
	var count=document.getElementById("quantity").value;
	}
	
	if(document.getElementById("quantity2").disabled==false)
	{
	var count=document.getElementById("quantity2").value;
	}
	
	if(document.getElementById("quantity3").disabled==false)
	{
	var count=document.getElementById("quantity3").value;
	}
	
	//var count=document.getElementById("quantity").value+document.getElementById("quantity2").value+document.getElementById("quantity3").value;
	var i;
	for(i=0;i<count;i++)
	{
	dynamicmodal.innerHTML+="Name"+(i+1);
	var div=document.createElement("input");
	div.name="name"+(i+1);
	div.id="name"+(i+1);
	dynamicmodal.innerHTML+="<br>";
	dynamicmodal.appendChild(div);
	dynamicmodal.innerHTML+="<br><br>";
	}
	dynamicmodal.innerHTML+="<div class='row'><button class='btn-default' style='background-color:white;color:red;border:1px solid red;border-radius:3px;' onclick='closeall();'>Cancel</button><button class='btn-default' style='background-color:white;color:navy;border:1px solid navy;border-radius:3px;'>Proceed</button></div>";
	document.getElementById("event_name").value = (document.getElementById("event_title").innerHTML);
	document.getElementById("bronze").value = document.getElementById("quantity").value;
	document.getElementById("silver").value = document.getElementById("quantity2").value;
	document.getElementById("gold").value = document.getElementById("quantity3").value;
	}
    
function closeall()
{
modal2.style.display="none";
modal1.style.display="none";
}
// When the user clicks on <span> (x), close the modal
span2.onclick = function() {
    modal2.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
 window.onclick = function(event) {
    if (event.target == modal2) {
        modal2.style.display = "none";
    }
}

function disableinputs()
{
if(document.getElementById("quantity").value>0)
{
document.getElementById("quantity2").disabled=true;
document.getElementById("quantity3").disabled=true;
document.getElementById("quantity2").value=0;
document.getElementById("quantity3").value=0;
}
else
{

document.getElementById("quantity2").disabled=false;
document.getElementById("quantity3").disabled=false;
}
}

function disableinputs2()
{
if(document.getElementById("quantity2").value>0)
{
document.getElementById("quantity").disabled=true;
document.getElementById("quantity3").disabled=true;
document.getElementById("quantity").value=0;
document.getElementById("quantity3").value=0;
}
else
{

document.getElementById("quantity").disabled=false;
document.getElementById("quantity3").disabled=false;
}
}

function disableinputs3()
{
if(document.getElementById("quantity3").value>0)
{
document.getElementById("quantity").disabled=true;
document.getElementById("quantity2").disabled=true;
document.getElementById("quantity").value=0;
document.getElementById("quantity2").value=0;
}
else
{

document.getElementById("quantity").disabled=false;
document.getElementById("quantity2").disabled=false;
}
}





    $(document).ready(function () {
        $.ajax({
                type: "GET",
                url: '/getuser',
                success: function (data) {
                    console.log(data);
                    if(data.userType===1 ){

                        document.getElementById('registerbutt').disabled=false;
                    }
                    if(data.userType===2 || data.userType===99){
                        document.getElementById('disabledtext').innerHTML='You are not allowed to register to an event';

                    }



                },
                error: function (e) {
                    console.log(e);
                }

            }
        )
        
        $(document).ready(function(){
        	/*$.ajax({
        	type:'POST',
        	dataType:'json',
        	data: {id:event_id},
        	url:"/getEvent",
        	  success: function(data) {
        			console.log('success',data);
        			document.getElementById("eventimg").src='/getImage?img='+ data.id+'.jpg'; 
        			document.getElementById("event_title").innerHTML=data.eventTitle;
        			//document.getElementById("event_date").innerHTML=data.startDate;
        			//document.getElementById("event_location").innerHTML=data.location;
        			document.getElementById("event_description").innerHTML=data.description;
        			document.getElementById("created_by").innerHTML=data.createdBy.name;
        			document.getElementById('myIframe').src = "map.html?seed=" + data.location;
        	   },
        	   error:function(exception){alert('Exception:'+exception);}
        	}); */
        	// This button will increment the value
            $('[data-quantity="plus1"]').click(function(e){
            	var bronze = Number(document.getElementById('quantity').value);
            	var silver = Number(document.getElementById('quantity2').value);
            	var gold = Number(document.getElementById('quantity3').value);
                // Stop acting like a button
                e.preventDefault();
                // Get the field name
                fieldName = $(this).attr('data-field');
                // Get its current value
                var currentVal = parseInt($('input[name='+fieldName+']').val());
                // If is not undefined
                if (!isNaN(currentVal)) {
                	if((currentVal)==10){
                		alert("You can buy only a maximum of 10 tickets at a time!");
                	}
                	else if(silver > 0 || gold > 0){
                		alert("You can buy only one type of ticket at a time!")
                	}
                	else{
                		// Increment
                        $('input[name='+fieldName+']').val(currentVal + 1);
                	}
                    
                } else {
                    // Otherwise put a 0 there
                    $('input[name='+fieldName+']').val(0);
                }
            });
            // This button will decrement the value till 0
            $('[data-quantity="minus1"]').click(function(e) {
                // Stop acting like a button
                e.preventDefault();
                // Get the field name
                fieldName = $(this).attr('data-field');
                // Get its current value
                var currentVal = parseInt($('input[name='+fieldName+']').val());
                // If it isn't undefined or its greater than 0
                if (!isNaN(currentVal) && currentVal > 0) {
                    // Decrement one
                    $('input[name='+fieldName+']').val(currentVal - 1);
                } else {
                    // Otherwise put a 0 there
                    $('input[name='+fieldName+']').val(0);
                }
            });
         // This button will increment the value
            $('[data-quantity="plus2"]').click(function(e){
            	var bronze = Number(document.getElementById('quantity').value);
            	var silver = Number(document.getElementById('quantity2').value);
            	var gold = Number(document.getElementById('quantity3').value);
                // Stop acting like a button
                e.preventDefault();
                // Get the field name
                fieldName = $(this).attr('data-field');
                // Get its current value
                var currentVal = parseInt($('input[name='+fieldName+']').val());
                // If is not undefined
                if (!isNaN(currentVal)) {
                	if((currentVal)==10){
                		alert("You can buy only a maximum of 10 tickets at a time!");
                	}
                	else if(bronze > 0 || gold > 0){
                		alert("You can buy only one type of ticket at a time!")
                	}
                	else{
                		// Increment
                        $('input[name='+fieldName+']').val(currentVal + 1);
                	}
                } else {
                    // Otherwise put a 0 there
                    $('input[name='+fieldName+']').val(0);
                }
            });
            // This button will decrement the value till 0
            $('[data-quantity="minus2"]').click(function(e) {
                // Stop acting like a button
                e.preventDefault();
                // Get the field name
                fieldName = $(this).attr('data-field');
                // Get its current value
                var currentVal = parseInt($('input[name='+fieldName+']').val());
                // If it isn't undefined or its greater than 0
                if (!isNaN(currentVal) && currentVal > 0) {
                    // Decrement one
                    $('input[name='+fieldName+']').val(currentVal - 1);
                } else {
                    // Otherwise put a 0 there
                    $('input[name='+fieldName+']').val(0);
                }
            });
         // This button will increment the value
            $('[data-quantity="plus3"]').click(function(e){
            	var bronze = Number(document.getElementById('quantity').value);
            	var silver = Number(document.getElementById('quantity2').value);
            	var gold = Number(document.getElementById('quantity3').value);
                // Stop acting like a button
                e.preventDefault();
                // Get the field name
                fieldName = $(this).attr('data-field');
                // Get its current value
                var currentVal = parseInt($('input[name='+fieldName+']').val());
                // If is not undefined
                if (!isNaN(currentVal)) {
                	if((currentVal)==10){
                		alert("You can buy only a maximum of 10 tickets at a time!");
                	}
                	else if(silver > 0 || bronze > 0){
                		alert("You can buy only one type of ticket at a time!")
                	}
                	else{
                		// Increment
                        $('input[name='+fieldName+']').val(currentVal + 1);
                	}
                } else {
                    // Otherwise put a 0 there
                    $('input[name='+fieldName+']').val(0);
                }
            });
            // This button will decrement the value till 0
            $('[data-quantity="minus3"]').click(function(e) {
                // Stop acting like a button
                e.preventDefault();
                // Get the field name
                fieldName = $(this).attr('data-field');
                // Get its current value
                var currentVal = parseInt($('input[name='+fieldName+']').val());
                // If it isn't undefined or its greater than 0
                if (!isNaN(currentVal) && currentVal > 0) {
                    // Decrement one
                    $('input[name='+fieldName+']').val(currentVal - 1);
                } else {
                    // Otherwise put a 0 there
                    $('input[name='+fieldName+']').val(0);
                }
            });
        });	
        
        
    })

</script>

<script>
var counter=0;
$(document).ready(function(){
	$.ajax({
	type:'GET',
	dataType:'json',
	url:"/getAllEvents",
	  success: function(events) {
		// events.forEach(element => {
				//var d=new Date();
				//alert("call success");
				//while(counter<=2)
				//{
				//alert("loop success"+element.eventTitle);
//				if(element.category==this.category)
				var hiddenID=document.getElementById("hiddenid").innerHTML;
				var random1=Math.floor(Math.random() * events.length);
				while(events[random1].id == hiddenID)
				{
				var random1=Math.floor(Math.random() * events.length);

				}
				var x=document.createElement("div");
				x.className="col-sm-12 abc";
				x.style="padding:15px;border-radius:4px;min-height:auto;min-width:200px;max-width:500;max-height:auto;font-family: 'Open Sans', sans-serif;";
				/*date fix logic*/
//				alert(events[random1].startDate[8]);
			var day=String(events[random1].startDate[8])+String(events[random1].startDate[9]);
			var month=String(events[random1].startDate[5])+String(events[random1].startDate[6]);
			if(month=="01")
			{	var displaydate="Jan "+day;	}
			if(month=="02")
			{	var displaydate="Feb "+day;	}
			if(month=="03")
			{	var displaydate="Mar "+day;	}
			if(month=="04")
			{	var displaydate="Apr "+day;	}
			if(month=="05")
			{	var displaydate="May "+day;	}
			if(month=="06")
			{	var displaydate="Jun "+day;	}
			if(month=="07")
			{	var displaydate="Jul "+day;	}
			if(month=="08")
			{	var displaydate="Aug "+day;	}
			if(month=="09")
			{	var displaydate="Sep "+day;	}
			if(month=="10")
			{	var displaydate="Oct "+day;	}
			if(month=="11")
			{	var displaydate="Nov "+day;	}
			if(month=="12")
			{	var displaydate="Dec "+day;	}
			
			//document.getElementById("event_date").innerHTML+="&nbsp"+day;	
			//document.getElementById("event_start_time").innerHTML+="Time:&nbsp";
				//alert(displaydate);
				
				
				
			x.innerHTML="<img src='/getImage?img="+events[random1].id+".jpg' style='width:100%;height:auto;'>";
			x.innerHTML+="<div class='container'><div class='row'><div class='col-sm-12'>"+events[random1].eventTitle+"</div></div><div class='row'><div class='col-sm-12' style='color:green'>"+displaydate+"</div></div></div>";

				x.id=events[random1].id;
								x.addEventListener("click",sendevent);



				document.getElementById("newdiv").appendChild(x);
				counter=counter+1;

				//second event
				
					var random2=Math.floor(Math.random() * events.length);
				while(events[random2].id == hiddenID || events[random2].id==events[random1].id)
				{
				var random2=Math.floor(Math.random() * events.length);

				}
				var x=document.createElement("div");
				x.className="col-sm-12 abc";
				x.style="padding:15px;border-radius:4px;min-height:auto;min-width:200px;max-width:500;max-height:auto;font-family: 'Open Sans', sans-serif;";

				
				var day=String(events[random2].startDate[8])+String(events[random2].startDate[9]);
			var month=String(events[random2].startDate[5])+String(events[random2].startDate[6]);
			if(month=="01")
			{	var displaydate="Jan "+day;	}
			if(month=="02")
			{	var displaydate="Feb "+day;	}
			if(month=="03")
			{	var displaydate="Mar "+day;	}
			if(month=="04")
			{	var displaydate="Apr "+day;	}
			if(month=="05")
			{	var displaydate="May "+day;	}
			if(month=="06")
			{	var displaydate="Jun "+day;	}
			if(month=="07")
			{	var displaydate="Jul "+day;	}
			if(month=="08")
			{	var displaydate="Aug "+day;	}
			if(month=="09")
			{	var displaydate="Sep "+day;	}
			if(month=="10")
			{	var displaydate="Oct "+day;	}
			if(month=="11")
			{	var displaydate="Nov "+day;	}
			if(month=="12")
			{	var displaydate="Dec "+day;	}
			
			
			x.innerHTML="<img src='/getImage?img="+events[random2].id+".jpg' style='width:100%;height:auto;'>";
			x.innerHTML+="<div class='container'><div class='row'><div class='col-sm-12'>"+events[random2].eventTitle+"</div></div><div class='row'><div class='col-sm-12' style='color:green;'>"+displaydate+"</div></div></div>";

				x.id=events[random2].id;
								x.addEventListener("click",sendevent);



				document.getElementById("newdiv2").appendChild(x);
				counter=counter+1;
				
				//third event
				
					var random3=Math.floor(Math.random() * events.length);
				while(events[random3].id == hiddenID || events[random3].id==events[random2].id || events[random3].id==events[random1].id)
				{
				var random3=Math.floor(Math.random() * events.length);

				}
				var x=document.createElement("div");
				x.className="col-sm-12 abc";
				x.style="padding:15px;border-radius:4px;min-height:auto;min-width:200px;max-width:500;max-height:auto;font-family: 'Open Sans', sans-serif;";

				var day=String(events[random3].startDate[8])+String(events[random3].startDate[9]);
			var month=String(events[random3].startDate[5])+String(events[random3].startDate[6]);
			if(month=="01")
			{	var displaydate="Jan "+day;	}
			if(month=="02")
			{	var displaydate="Feb "+day;	}
			if(month=="03")
			{	var displaydate="Mar "+day;	}
			if(month=="04")
			{	var displaydate="Apr "+day;	}
			if(month=="05")
			{	var displaydate="May "+day;	}
			if(month=="06")
			{	var displaydate="Jun "+day;	}
			if(month=="07")
			{	var displaydate="Jul "+day;	}
			if(month=="08")
			{	var displaydate="Aug "+day;	}
			if(month=="09")
			{	var displaydate="Sep "+day;	}
			if(month=="10")
			{	var displaydate="Oct "+day;	}
			if(month=="11")
			{	var displaydate="Nov "+day;	}
			if(month=="12")
			{	var displaydate="Dec "+day;	}
			
			x.innerHTML="<img src='/getImage?img="+events[random3].id+".jpg' style='width:100%;height:auto;'>";
			x.innerHTML+="<div class='container'><div class='row'><div class='col-sm-12'>"+events[random3].eventTitle+"</div></div><div class='row'><div class='col-sm-12' style='color:green;'>"+displaydate+"</div></div></div>";

				x.id=events[random3].id;
								x.addEventListener("click",sendevent);



				document.getElementById("newdiv3").appendChild(x);
				counter=counter+1;
				
				/*var eventyear=String(element.startDate[0])+String(element.startDate[1])+String(element.startDate[2])+String(element.startDate[3]);
				if(String(element.startDate[5])=='0')
				{
				var date_e=String(element.startDate[6]);
				}
				else{
				var date_e=String(element.startDate[5])+String(element.startDate[6]);
				}
				if(date_e==String(d.getMonth()) && String(eventyear)==String(d.getYear()+1900))
				{
					document.getElementById("display2").appendChild(x);

				
				}*/
							
			  console.log(element);
			  //}
			//});
	   },
	   error:function(exception){
		   console.log("error: "+ exception);}
	});
});	





function sendevent()
{
	window.location.href = "eventpage?id="+this.id;
}






























var loc="Bloomington";

/*passing parameter to iframe*/
/*document.getElementById('myIframe').src = "/map?seed=" + loc;*/
var x;
var event_id=document.URL.substr(document.URL.indexOf('=')+1);

function reportEvent() {
	$.ajax({
		type: "PUT",
        url: '/reportEvent',
        data: {eventId:event_id, reportedStatement: document.getElementById("reporttext").value},
        success: function (data) {
        	document.getElementById("reported").style.display = 'block';
        },
        error: function (e) {
            console.log(e);
        }
	});
}


$(document).ready(function(){
	$.ajax({
	type:'POST',
	dataType:'json',
	data: {id:event_id},
	url:"/getEvent",
	  success: function(data) {
			console.log('success',data);
			document.getElementById("eventimg").src='/getImage?img='+ data.id+'.jpg';
			document.getElementById("event_title").innerHTML=data.eventTitle;
			document.getElementById("hiddenid").innerHTML=data.id;
			//alert(data.startDate);
			var gg="BillGates"
			document.getElementById("twitter_handle").href="https://twitter.com/"+data.twitterHandle+"?ref_src=twsrc%5Etfw";
			for (x=0;x<=9;x++)
			{
						//document.getElementById("event_date").innerHTML+=data.startDate[x];
						
						
			}
			var day=String(data.startDate[8])+String(data.startDate[9]);
			var month=String(data.startDate[5])+String(data.startDate[6]);
			//document.getElementById("event_date").innerHTML+="<p style='color:black;'>Date:";
			if(month=="01")
			{	document.getElementById("event_date").innerHTML+="Date: Jan";	}
			if(month=="02")
			{	document.getElementById("event_date").innerHTML+="Date: Feb";	}
			if(month=="03")
			{	document.getElementById("event_date").innerHTML+="Date: Mar";	}
			if(month=="04")
			{	document.getElementById("event_date").innerHTML+="Date: Apr";	}
			if(month=="05")
			{	document.getElementById("event_date").innerHTML+="Date: May";	}
			if(month=="06")
			{	document.getElementById("event_date").innerHTML+="Date: Jun";	}
			if(month=="07")
			{	document.getElementById("event_date").innerHTML+="Date: Jul";	}
			if(month=="08")
			{	document.getElementById("event_date").innerHTML+="Date: Aug";	}
			if(month=="09")
			{	document.getElementById("event_date").innerHTML+="Date: Sep";	}
			if(month=="10")
			{	document.getElementById("event_date").innerHTML+="Date: Oct";	}
			if(month=="11")
			{	document.getElementById("event_date").innerHTML+="Date: Nov";	}
			if(month=="12")
			{	document.getElementById("event_date").innerHTML+="Date: Dec";	}
			
			document.getElementById("event_date").innerHTML+="&nbsp"+day;	
			document.getElementById("event_start_time").innerHTML+="Time:&nbsp";
			
			for(x=11;x<=15;x++)
			{
			document.getElementById("event_start_time").innerHTML+=data.startDate[x];
			}
			document.getElementById("event_location").innerHTML+=data.location;
			document.getElementById("event_description").innerHTML=data.description;
			document.getElementById("created_by").innerHTML="&nbsp&nbsp&nbsp"+data.createdBy.name;
			document.getElementById('myIframe').src = "/map?seed=" + data.location;
			document.getElementById("eventlocation").innerHTML="<h5>"+data.location+"</h5>";
									document.getElementById("user_email").innerHTML="&nbsp&nbsp&nbsp"+data.createdBy.email;
						document.getElementById("user_contact").innerHTML="&nbsp&nbsp&nbsp"+data.createdBy.contact;
			
	   },
	   //error:function(exception){alert('Exeption:'+exception);}
	}); 
});	

</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBRL6D4jfWOtmDd3ge1pRtkEx6OtrqdU8c&callback=myMap"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
<script src="/script/chat.handler.js"></script>



<script>

    $(document).ready(function () {
        $.ajax({
                type: "GET",
                url: '/getauth',
                success: function (data) {
                    console.log(data);
                    if(data==="anonymousUser"){
                        document.getElementById('logoutbutt').style.display="none";
                        document.getElementById('loginbutt').style.display="block";
												document.getElementById('profilebutton').style.display="none";


                    }
                    else{
                        document.getElementById("loginbutt").style.display="none";
                        document.getElementById("logoutbutt").style.display="block";
												document.getElementById('profilebutton').style.display="block";


                    }


                },
                error: function (e) {
                    console.log(e);
                }

            }
        )
    })

</script>

	<script>
        var modal = document.getElementById('eventReportModal');

        // Get the button that opens the modal
        var btn = document.getElementById("reportthisevent");

        var span = document.getElementsByClassName("close")[0];

        // When the user clicks the button, open the modal
        btn.onclick = function() {
            modal.style.display = "block";
            document.getElementById("reset_email").value="";
        }


        span.onclick = function() {
            modal.style.display = "none";
            pass_div.style.display="none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function(event) {
                if (event.target == modal) {
                    modal.style.display = "none";
                    pass_div.style.display="none";
                }
            }
   </script>
</body>
</html>
